<html lang="en" dir="ltr">
  <title>ABMValidation</title>

  <meta charset="utf-8"></meta>

  <meta
    name="viewport"
    content="width=device-width, initial-scale=1">
  </meta>
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
  <link rel="stylesheet" href="css/index.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" charset="utf-8"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js" charset="utf-8"></script>
  <!-- Google Fonts -->
  <link href='https://fonts.googleapis.com/css?family=Lato:400,900' rel='stylesheet' type='text/css'>
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>

  <script type="text/javascript" src='scripts/barchart.js'></script>

  <script type="text/javascript" src="scripts/chord.js"></script>
  <script src="http://d3js.org/d3.v3.min.js"></script>

  <script type="text/javascript" src='scripts/table.js'></script>
  <script src="https://d3js.org/d3.v4.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

  <script src="https://d3js.org/d3-color.v1.min.js"></script>
<script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>

  <!--Auto Ownership!-->
  <script>
  d3.csv("data/aoCounts_tbl.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh', 'Census','Survey','Model'],"#auto_counts"); // 2 column table
  });

  // SURVEY Auto Ownership Cross Tabs

  //SURVEY
  //Household Income
  d3.csv("data/survey_income.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh','0-35K','35K-60k','60K-100K','100K+','Total'],"#auto_counts1"); // 2 column table
  });
  //Household Size
  d3.csv("data/survey_hhsize.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh', '1','2','3','4+','Total'],"#auto_counts2"); // 2 column table
  });
  //Workers
  d3.csv("data/survey_workers.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh', '1','2','3+','Total'],"#auto_counts3"); // 2 column table
  });

  //CENSUS
  //Household Income
  d3.csv("data/survey_income.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh','0-35K','35K-60k','60K-100K','100K+','Total'],"#auto_counts1_1"); // 2 column table
  });
  //Household Size
  d3.csv("data/survey_hhsize.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh', '1','2','3','4+','Total'],"#auto_counts2_1"); // 2 column table
  });
  //Workers
  d3.csv("data/survey_workers.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh', '1','2','3+','Total'],"#auto_counts3_1"); // 2 column table
  });
  //MODEL
  //Household Income
  d3.csv("data/survey_income.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh','0-35K','35K-60k','60K-100K','100K+','Total'],"#auto_counts1_2"); // 2 column table
  });
  //Household Size
  d3.csv("data/survey_hhsize.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh', '1','2','3','4+','Total'],"#auto_counts2_2"); // 2 column table
  });
  //Workers
  d3.csv("data/survey_workers.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh', '1','2','3+','Total'],"#auto_counts3_2"); // 2 column table
  });

  d3.csv("data/aoPer_tbl.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
  	tabulate(data, ['# Veh', 'Census','Survey','Model'],"#auto_per"); // 2 column table
  });

  d3.csv("data/aoCounts.csv", function(d, i, columns) {
    for (var i = 1, n = columns.length; i < n; ++i) d[columns[i]] = +d[columns[i]];
    return d;
  }, function(error, data) {
    if (error) throw error;
    BarChart(data,"#b","")
  });

//Mode Choice Calibration
  </script>

  <style>
  </style>

  <hr></hr>
  	<div class="container"><h2>ABM Calibration and Validation Report</h2></div>

  	<div id="exTab2" class="container">
  	<ul class="nav nav-tabs">
  				<li class="active">
  	        <a  href="#1" role="tab" data-toggle="tab">Household Characteristcs</a>
  				</li>
  				<li><a href="#2" role="tab" data-toggle="tab">Mode Choice</a>
  				</li>
  				<li><a href="#3" role="tab" data-toggle="tab">Auto Flows</a>
  				</li>
  				<li><a href="#4" role="tab" data-toggle="tab">Highway Assignment</a>
  				</li>
  				<li><a href="#5" role="tab" data-toggle="tab">Transit Assignment</a>
  				</li>
  			</ul>
<body>
	<div class="tab-content ">
		  <div class="tab-pane active" id="1">
				<br><br>
				<!--Tab Description -->
        <div class="container-fluid">
					<div class="well" id="description">
						<h4>Household Characteristics Calibration</h4>
            <br>
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
							Non igitur de improbo, sed de callido improbo quaerimus,
							qualis Q. Ampulla enim sit necne sit, quis non iure
							irrideatur, si laboret? formarum quam civis excellens ad
							factorum pulchritudinem?</p>
					</div>
        </div>
				<!--Auto Ownership Counts -->
        <div class="container-fluid">
					<div class="row">
						<div class="col-sm-6">
							<div class="well">
								<h6><b>Auto Ownership - Counts</b></h6>
								<div id="auto_counts"></div>
							</div>
						</div>
						<!--Auto Ownership Percent -->
						<div class="col-sm-6">
							<div class="well">
								<h6><b>Auto Ownership - Percent</b></h6>
									<div id="auto_per"></div>
							</div>
						</div>
					</div>
        </div>
				<!--Auto Ownership Graph-->
        <br><br>
        <div class="container-fluid">
          <div class="well">
            <h6><b>Auto Ownership Distribution</b></h6>
            <div class="row">
              <svg id="b" width="900" height="200"
                    preserveAspectRatio="xMidYMid meet"></svg>
            </div>
          </div>
        </div>
        <!--Auto Ownership Cross Tabs-->
        <!--Household Income !-->
        <br><br>
        <div class="container-fluid">
          <div class="row">
            <div class="well">
                Household Income
                  <br>
                  <div class="col-xs-4 col-sm-4" id="auto_counts1">
                    Survey</div>
                  <div class="col-xs-4 col-sm-4" id="auto_counts1_1">
                    Census</div>
                  <div class="col-xs-4 col-sm-4" id="auto_counts1_2">
                    Model</div>
                </div>
            </div>
          </div>

        <!--Household Size !-->
        <br>
        <div class="container-fluid">
          <div class="well">
            Household Size
              <div class="row">
                <br>
                  <div class="col-xs-4 col-sm-4" id="auto_counts2">
                    Survey
                  </div>
                  <div class="col-xs-4 col-sm-4" id="auto_counts2_1">
                    Census
                  </div>
                  <div class="col-xs-4 col-sm-4" id="auto_counts2_2">
                    Model
                </div>
              </div>
            </div>
          </div>

          <!--Household Workers !-->
          <br>
          <div class="container-fluid">
            <div class="well">
                  Workers in Household
                  <div class="row">
                  <br>
                    <div class="col-xs-4 col-sm-4" id="auto_counts3">
                      Survey
                    </div>
                    <div class="col-xs-4 col-sm-4" id="auto_counts3_1">
                      Census
                    </div>
                    <div class="col-xs-4 col-sm-4" id="auto_counts3_2">
                      Model
                    </div>
                  </div>
              </div>
            </div>
			</div>

      <!-- MODE CHOICE !-->
			<div class="tab-pane" id="2">
        <br><br>
        <div class="container-fluid">
          <div class="row">
  					<div class="well" id="description">
  						<h4>Mode Choice Calibration</h4>
              <br>
  						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
  							irrideatur, si laboret? formarum quam civis excellens ad
  							factorum pulchritudinem?</p>
          </div>
          </div>
        </div>
        <div class="container-fluid">
          <!-- Mode Choice By Trip Purpose !-->
          <div class="row">
              <div class="well">

                <h5>Mode Choice By Purpose</h5>
                <br>
    						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
    							irrideatur, si laboret?</p>

                  <select id="category1">
                    <option value="01">Total</option>
                    <option value="02">Discretionary</option>
                    <option value="03">Eating Out</option>
                    <option value="04">Escort</option>
                    <option value="05">Maintenance</option>
                    <option value="06">School</option>
                    <option value="07">Shop</option>
                    <option value="08">University</option>
                    <option value="09">Work</option>
                    <option value="10">Work-Based</option>
                  </select>

                  <select id="catPopSyn">
                    <option value="veh">Vehicles</option>
                    <option value="hh">Households</option>
                  </select>

                  <!-- Chart -->
                  <div id="PurposeChart"></div>
                  <div id="PurposeChartpums"></div>

                  <span class="clickThis"> <b style="font-size: 11px;"> </b></span>

                  <!-- Sort dimension -->
                  <span class="sortCheck"><b style="font-size: 11px;">Sort Values</b>
                  <input type="checkbox" id="myCheckbox">
                  </span>

                  <script type="text/javascript" src='scripts/barchart_dropdown.js'></script>
                  <script type="text/javascript" src='scripts/barchart_dropdownv2.js'></script>

                <script>
                  makeGroupChart("data/ModeByPurpose.csv","#PurposeChart","#category1","#myCheckbox",3);
                  makeGroupChartv2("data/ModeByPurpose01.csv","#PurposeChartpums","#catPopSyn","#myCheckbox",3);
                </script>

                </div>
            </div>
          <!-- Mode Choice By Person Type !-->
          <div class="row">
              <div class="well">
                <h5>Mode Choice By Person Type</h5>
                <br>
    						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
    							irrideatur, si laboret?</p>

                  <select id="perCat">
                    <option value="01">Total</option>
                    <option value="02">Child Too Young For School</option>
                    <option value="03">Full-Time Worker</option>
                    <option value="04">Non-Worker</option>
                    <option value="05">Part-Time Worker</option>
                    <option value="06">Retired</option>
                    <option value="07">Student Of Driving Age</option>
                    <option value="08">Student Of Non-Driving Age</option>
                    <option value="09">University Student</option>
                  </select>

                  <!-- Chart -->
                  <div id="PersonChart"></div>

                  <span class="clickThis"> <b style="font-size: 11px;"> </b></span>

                  <!-- Sort dimension -->
                  <span class="sortCheck"><b style="font-size: 11px;">Sort Values</b>
                  <input type="checkbox" id="perCheckbox">
                  </span>

                  <script type="text/javascript" src='scripts/barchart_dropdown.js'></script>

                <script>
                  makeGroupChart("data/ModeByPerson.csv","#PersonChart","#perCat","#perCheckbox",2);
                </script>
                </div>
            </div>
			</div>
      </div>

      <!-- TRAVEL FLOWS !-->
      <div class="tab-pane" id="3">

        <br><br>
        <div class="container-fluid">
					<div class="well" id="description">
						<h4>Auto Flows Calibration</h4>
            <br>
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
							Non igitur de improbo, sed de callido improbo quaerimus,
							qualis Q. Ampulla enim sit necne sit, quis non iure
							irrideatur, si laboret? formarum quam civis excellens ad
							factorum pulchritudinem?</p>
					</div>
        </div>
        <br>
        <!-- SURVEY FLOWS !-->
        <div class="container-fluid">
          <div class="row">
						<div class="col-sm-4">
              <h4>SURVEY</h4>
              <br>
                <div id="chart"></div>
                  <script type="text/javascript">
                    d3.json("data/matrix.json" , function(matrix) {
                                console.log(matrix)
                    var labels = ["Chicago","Cook","DuPage","Kendall","Kane","Lake","Will","McHenry"];
                    var colors = ["#C4C4C4","#69B40F","#EC1D25","#C8125C","#008FC8","#10218B","#134B24","#737373"];
                    chord(labels,matrix,colors,"#chart")
                    });
                  </script>
						</div>
        <!-- CENSUS FLOWS !-->
        <div class="col-sm-4">
          <h4>MODEL</h4>
          <br>
          <div id="chart2"></div>
            <script type="text/javascript">
              d3.json("data/matrix.json" , function(matrix1) {
                          console.log(matrix1)
              var labels = ["Chicago","Cook","DuPage","Kendall","Kane","Lake","Will","McHenry"];
              var colors = ["#C4C4C4","#69B40F","#EC1D25","#C8125C","#008FC8","#10218B","#134B24","#737373"];
              chord(labels,matrix1,colors,"#chart2")
              });
            </script>
        </div>
        <!-- MODEL FLOWS !-->
        <div class="col-sm-4">
          <h4>CTPP</h4>
          <br>
          <div id="chart3"></div>
          </div>
            <script type="text/javascript">
              d3.json("data/matrix.json" , function(matrix1) {
                          console.log(matrix1)
              var labels = ["Chicago","Cook","DuPage","Kendall","Kane","Lake","Will","McHenry"];
              var colors = ["#C4C4C4","#69B40F","#EC1D25","#C8125C","#008FC8","#10218B","#134B24","#737373"];
              chord(labels,matrix1,colors,"#chart3")
              });
            </script>
        </div>
        </div>
        <br><br>

        <div class="container-fluid">
          <div class="row">
            <div class="col-sm-8">
              <div class="well">
                <h5>MAP</h5>
                <svg width=200 height=400></svg>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="row">
                <div class="well">
                <h4>Auto Flows Validation</h4>
                <br>
                <p>Lorem ipsum dolor sit amet,
                  consectetur adipiscing elit.
                  Quae diligentissime contra
                  Aristonem dicuntur a Chryippo.
                   Utinam quidem dicerent alium
                   alio beatiorem! Iam ruinas
                   videres. Mihi quidem Homerus
                   huius modi quiddam vidisse
                   videatur in iis, quae de Sirenum
                   cantibus finxerit. Memini vero,
                   inquam; Nunc dicam de voluptate,
                   nihil scilicet novi, ea tamen,
                   quae te ipsum probaturum esse
                   confidam.</p>
                </div>
            </div>
            <div class="row">
              <canvas id="myChart" height=220></canvas>
              <script>
              var ctx = document.getElementById('myChart').getContext('2d');
              var scatterChart = new Chart(ctx, {
                  type: 'scatter',
                  data: {
                      datasets: [{
                          label: 'Scatter Dataset',
                          showLine: false,
                          data: [{
                              x: -10,
                              y: 0
                          }, {
                              x: 0,
                              y: 10
                          }, {
                              x: 10,
                              y: 5
                          },{
                              x: -15,
                              y: 0
                          }, {
                              x: 5,
                              y: 10
                          }, {
                              x: 40,
                              y: 5
                          }]
                      }]
                  },
                  options: {
                      scales: {
                          xAxes: [{
                              type: 'linear',
                              position: 'bottom'
                          }]
                      }
                  }
              });
            </script>
              </div>
            </div>
        </div>
      </div>
      </div>
      <div class="tab-pane" id="4">
        <br><br>
        <div class="container-fluid">
					<div class="well" id="description">
						<h4>Highway Assignment Calibration</h4>
            <br>
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
							Non igitur de improbo, sed de callido improbo quaerimus,
							qualis Q. Ampulla enim sit necne sit, quis non iure
							irrideatur, si laboret? formarum quam civis excellens ad
							factorum pulchritudinem?</p>
					</div>
        </div>
			</div>
      <div class="tab-pane" id="5">
        <br><br>
        <div class="container-fluid">
					<div class="well" id="description">
						<h4>Transit Assignment Calibration</h4>
            <br>
						<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.
							Non igitur de improbo, sed de callido improbo quaerimus,
							qualis Q. Ampulla enim sit necne sit, quis non iure
							irrideatur, si laboret? formarum quam civis excellens ad
							factorum pulchritudinem?</p>
					</div>
        </div>
			</div>
		</div>
  </div>

  <hr></hr>
</body>
</html>
